<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width,initial-scale=1' />

    <title>Cat Breeds</title>

    <link rel='icon' type='image/png' href='favicon.png' />
    <link rel='stylesheet' href='../build/pyscript.css' />
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'
          integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3' crossorigin='anonymous'>
    <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js'
            integrity='sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p'
            crossorigin='anonymous'></script>
    <script defer src='../build/pyscript.js'></script>
</head>

<body>
<py-script>
from pyodide.http import pyfetch
async def get_cats_data():
    response = await pyfetch('https://api.thecatapi.com/v1/breeds')
    json = await response.json()
    console.log('$$json',json)

    return json

</py-script>

<div class='container'>
    <div class="alert alert-success text-center text-black" role="alert">
        Cats Category Listing
    </div>

    <py-for variable='data' iterator='get_cats_data()' class='row justify-content-center'>
        <div class='col-3'>
            <div class="card shadow mb-5 bg-white rounded" style="width: 18rem;">
                <img class="card-img-top" src="{# data.get('image',{}).get('url') #}" alt="No Kitty Image"
                     style="height:15em;object-fit: cover;">
                <div class="card-body">
                    <h5 class="card-title" > {# data.get('name') #}</h5>
                    <p class="card-text" style="max-height: 8em;overflow-y: scroll;">{# data.get('description') #}</p>
                </div>
            </div>
        </div>
    </py-for>
</div>
</body>
</html>
